# Documentación de la carpeta `node_modules`

La carpeta `node_modules` es un directorio esencial en cualquier proyecto Node.js que utiliza un gestor de dependencias como `npm` o `yarn`. Contiene todas las dependencias necesarias para el funcionamiento de la aplicación o proyecto.

## Descripción General

La carpeta `node_modules` almacena las bibliotecas y módulos de terceros que se descargan cuando se ejecuta el comando `npm install` (o `yarn install`). Estos módulos pueden incluir dependencias de la aplicación, así como sub-dependencias de las bibliotecas que se han instalado. El propósito de esta carpeta es asegurar que el proyecto tenga acceso a todas las bibliotecas necesarias durante el desarrollo y la ejecución.

### Estructura

La estructura interna de `node_modules` puede variar dependiendo de los paquetes que se instalen, pero generalmente incluye lo siguiente:

- **`.bin`**:  
  Esta subcarpeta contiene ejecutables de los paquetes instalados. Los archivos aquí permiten ejecutar scripts o comandos desde la terminal. Los binarios pueden ser ejecutados a través de `npx` o mediante scripts definidos en el archivo `package.json`.

- **Paquetes instalados**:  
  Cada paquete instalado aparecerá como una subcarpeta dentro de `node_modules`. Estos paquetes pueden ser bibliotecas de código, herramientas de desarrollo o utilidades. Cada uno tiene su propia estructura interna, que normalmente incluye:
  - Código fuente en JavaScript o TypeScript.
  - Archivos de documentación (como README).
  - Archivos de configuración (como `package.json` de cada paquete).
  - Archivos binarios o ejecutables (si es aplicable).
  
- **Subdependencias**:  
  Las dependencias de los paquetes que has instalado también estarán dentro de `node_modules`. Esta estructura de árbol puede hacer que la carpeta `node_modules` se vuelva muy grande dependiendo del número de dependencias y sub-dependencias en el proyecto.

## Archivos Relacionados

1. **`package.json`**:  
   Este archivo es el corazón del proyecto, donde se definen las dependencias necesarias para el proyecto. Los comandos como `npm install` utilizan este archivo para instalar los paquetes mencionados bajo las claves `dependencies` o `devDependencies`.

2. **`package-lock.json`**:  
   Este archivo asegura que las dependencias se instalen en las versiones exactas que se especifican en el proyecto. Se genera automáticamente después de instalar las dependencias y debe ser incluido en el control de versiones (como Git).

## Propósito y Uso

### 1. Gestión de Dependencias

`node_modules` almacena las dependencias del proyecto. Cuando instalas un paquete con `npm install <paquete>`, este se descarga y coloca en `node_modules`. Los paquetes pueden ser bibliotecas de terceros que facilitan tareas específicas, como la manipulación de fechas, el envío de solicitudes HTTP, o el desarrollo de interfaces de usuario.

### 2. Scripts Ejecutables

Si un paquete incluye comandos ejecutables (por ejemplo, herramientas de línea de comandos como `eslint` o `webpack`), estos se colocan en la subcarpeta `.bin`. Puedes ejecutar estos comandos con `npx <comando>` o configurando scripts en el `package.json`. Por ejemplo:

```json
"scripts": {
  "build": "webpack --config webpack.config.js"
}
```

### 3. Acceso a Paquetes

Los paquetes instalados en `node_modules` son accesibles en tu código con `require()` (para proyectos Node.js) o `import` (para proyectos de JavaScript moderno o TypeScript):

```javascript
import axios from 'axios';  // Ejemplo para una API HTTP
```

### 4. No Modificar Directamente

Es importante **no modificar directamente** los archivos dentro de `node_modules`. Estos paquetes son administrados por el gestor de dependencias y pueden ser sobrescritos o actualizados cuando se ejecutan comandos como `npm install`, lo que podría provocar la pérdida de cualquier cambio manual.

### 5. Uso de `npm` para Instalar y Desinstalar Paquetes

#### Instalar Paquetes

Puedes instalar dependencias desde el `package.json` ejecutando:

```bash
npm install
```

Esto descargará todos los paquetes listados en el `package.json` en la carpeta `node_modules`.

#### Agregar Nuevas Dependencias

Si necesitas agregar un nuevo paquete, puedes hacerlo con:

```bash
npm install <nombre-paquete>
```

Esto instalará el paquete y lo añadirá automáticamente a tu `package.json`.

#### Eliminar Dependencias

Para eliminar un paquete que ya no se necesita:

```bash
npm uninstall <nombre-paquete>
```

Esto eliminará el paquete tanto de `node_modules` como de `package.json`.

#### Limpiar `node_modules`

Si alguna vez tienes problemas con dependencias corruptas o desactualizadas, puedes eliminar la carpeta `node_modules` y volver a instalar las dependencias:

```bash
rm -rf node_modules
npm install
```

## Consejos y Buenas Prácticas

- **No subir `node_modules` a control de versiones**:  
  Dado que `node_modules` puede ocupar mucho espacio y se puede regenerar fácilmente a partir de `package.json`, **no debes agregar esta carpeta a tu repositorio**. Asegúrate de tener un archivo `.gitignore` que excluya `node_modules`.

- **Mantén las dependencias actualizadas**:  
  Asegúrate de revisar regularmente las actualizaciones de los paquetes instalados para beneficiarte de mejoras, correcciones de seguridad y nuevas características. Puedes hacerlo con `npm update`.

- **Usar `npx` para ejecutables**:  
  Utiliza `npx` para ejecutar comandos de dependencias sin necesidad de instalarlas globalmente, lo cual ayuda a mantener el entorno limpio y evitar conflictos de versiones.

- **Monitorear la carpeta**:  
  La carpeta `node_modules` puede crecer rápidamente a medida que tu proyecto crece. Si no deseas que ocupe mucho espacio en tu disco, puedes optar por una configuración de `npm` que gestione más eficientemente las dependencias (como `npm ci` en entornos de integración continua).
